<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Button?>
<?import javafx.geometry.Insets?>

<BorderPane
        xmlns="http://javafx.com/javafx/21"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="com.example.javafx.MainViewController"
        fx:id="mainView"
        prefWidth="800" prefHeight="600"
        stylesheets="@style.css"
>
    <top>
        <MenuBar BorderPane.alignment="CENTER">
            <menus>
                <Menu text="File" >
                    <items>
                        <MenuItem text="Exit" onAction="#exitApplication"/>
                    </items>
                </Menu>
                <Menu text="Products">
                    <items>
                        <MenuItem text="Add Product" onAction="#openAddProductDialog"/>
                        <MenuItem text="Seller Dashboard" onAction="#openSellerDashboard"/>
                    </items>
                </Menu>
                <Menu text="Reports">
                    <items>
                        <MenuItem text="View Reports" onAction="#openReportsView"/>
                    </items>
                </Menu>
                <Menu text="Account">
                    <items>
                        <MenuItem text="Login/Register" onAction="#openLoginDialog"/>
                        <MenuItem fx:id="inboxMenuItem" text="Inbox" onAction="#openInbox"/>
                    </items>
                </Menu>
            </menus>
        </MenuBar>
    </top>

    <center>
        <VBox spacing="15.0" alignment="TOP_CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0" />
            </padding>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="Search Products:" styleClass="search-label"/>
                <TextField fx:id="searchTextField" onAction="#searchProducts" styleClass="search-field"/>
                <Button text="Search" onAction="#searchProducts" styleClass="primary-button"/>
            </HBox>

            <ListView fx:id="productList" VBox.vgrow="ALWAYS" onMouseClicked="#handleProductSelection" styleClass="product-list"/>

            <HBox alignment="CENTER_RIGHT" spacing="10.0">
                <Button fx:id="buyButton" text="Buy" onAction="#buySelectedItem" disable="true" styleClass="secondary-button"/>
                <Button fx:id="contactSellerButton" text="Contact Seller" onAction="#handleContactSeller" disable="true" styleClass="secondary-button"/>
            </HBox>
        </VBox>
    </center>
</BorderPane>
